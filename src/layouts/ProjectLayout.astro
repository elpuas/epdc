---
import type { CollectionEntry } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FormattedDate from '../components/FormattedDate.astro';
import { Image } from 'astro:assets';
import type { Language } from '../i18n/utils';
import '../styles/global.css';
import styles from '../styles/Layout.module.css';
import stylesProject from '../styles/ProjectLayout.module.css';
type Props = CollectionEntry<'portfolio'>['data'];

const { title, description = '', date, image, lang = 'en' as Language, tags = [] } = Astro.props;
---

<!DOCTYPE html>
<html lang={lang}>
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body>
		<header>
			<div class:list={styles.wrapper}>
				<Header lang={lang} />
			</div>
		</header>
		<main>
			<article class={stylesProject.article}>
				<section class={stylesProject.hero} aria-labelledby="hero-title">
					<h1 id="hero-title">{title}</h1>
					<div class={stylesProject.projectMeta}>
						<div class={stylesProject.projectDate}>
							<FormattedDate date={date} />
						</div>
						{image && <Image src={image} alt="" class={stylesProject.projectFeaturedImage} width={1200} height={630} loading="lazy" decoding="async" />}
						{tags && tags.length > 0 && (
							<div class={stylesProject.projectTags}>
								{tags.map(tag => (
									<span class={stylesProject.projectTag}>{tag}</span>
								))}
							</div>
						)}
					</div>
				</section>
				
				<div class={stylesProject.projectContent}>
					<slot />
				</div>
			</article>
		</main>
		<footer>
			<div class:list={styles.wrapper}>
				<Footer lang={lang} />
			</div>
		</footer>
	</body>
</html> 