---
import Layout from '../../layouts/Layout.astro';
import Button from '../../components/Button.astro';
import { Icon } from 'astro-icon/components';
import ProcessStep from '../../components/ProcessStep.astro';
import CaseStudySection from '../../components/CaseStudySection.astro';
import TeamMember from '../../components/TeamMember.astro';
import alfredoImage from '../../../public/team/alfredo-navas.jpeg';
import aiImage from '../../../public/team/ai-assistant.png';
import styles from '../../styles/About.module.css';
const title = 'Meet ElPuas Digital Crafts | A Family-Led Web Studio';
const description = 'Discover who we are, what we stand for, and how we craft beautiful, high-performance websites. A small, skilled team with global reach and a personal touch.';
const lang = 'en';
// Import case study image
import caseStudyImage from '../../../public/monkey-phone.jpg';
const process = [
  {
    icon: 'ph:magnifying-glass',
    title: 'Discovery & Understanding',
    description: 'We start by gathering as much information as possible about your business, challenges, and goals. Understanding your needs is the foundation of a successful project.'
  },
  {
    icon: 'ph:brain',
    title: 'Strategic Planning with AI Insights',
    description: 'Using the information gathered, we analyze and identify the best approach. With AI, we uncover innovative solutions, optimize workflows, and ensure no detail is overlooked.'
  },
  {
    icon: 'ph:pen-nib',
    title: 'Design Strategy',
    description: 'We craft a design strategy tailored to your vision and target audience. This ensures a user-friendly, visually engaging experience that aligns with your goals.'
  },
  {
    icon: 'ph:code',
    title: 'Technology Selection & Development',
    description: "Whether it's WordPress for flexibility or React for dynamic applications, we choose the best framework for your needs. AI aids in optimizing development and solving challenges faster."
  },
  {
    icon: 'ph:truck',
    title: 'Delivery',
    description: 'Once everything is perfected, we deliver your project on time, ensuring it meets your expectations and performs flawlessly.'
  },
  {
    icon: 'ph:chart-line-up',
    title: 'Ongoing Support & AI-Driven Optimization',
    description: "Our commitment doesn't end at delivery. With ongoing support, we use AI to monitor and continuously improve your website, adapting to new challenges and opportunities."
  }
];
---

<Layout {title} {description} {lang}>
  <section class={styles.hero} aria-labelledby="page-title">
    <h1 id="page-title"><span class={styles.accent}>Welcome to </span>ElPuas Digital Crafts</h1>
    <p class={styles.lead}>
      We empower agencies and businesses with pixel-perfect, high-performance websites — built with care, backed by expert support.
    </p>
  </section> 

  <section class={styles.about} aria-label="About Us">
    <p>We're <span class={styles.accent}>ElPuas Digital Crafts</span> — a family-run web studio building high-performance websites with love, code, and coffee.</p>

    <p>We believe great websites go beyond design. They should be lightning-fast, easy to manage, and ready to grow with your business. That's why we use modern frameworks like <span class={styles.accent}>Astro</span>, smart <span class={styles.accent}>WordPress</span> solutions, and <span class={styles.accent}>AI-assisted</span> workflows to deliver handcrafted sites without the high-maintenance price tag.</p>

    <p>From custom <span class={styles.accent}>WordPress</span> builds to optimized <span class={styles.accent}>eCommerce</span> platforms, we create digital experiences that help small businesses grow and agencies scale. Whether you're launching your first site or need a reliable white-label partner, we've got your back — with clear communication, thoughtful execution, and long-term support that actually shows up.</p>

  </section>

  <section class={styles.values} aria-labelledby="values-title">
    <h2 id="values-title">What We Stand For</h2>
    <ul class={styles.valuesList} role="list">
      <li class={styles.valueItem}><Icon name="ph:handshake" width="64" height="64" aria-hidden="true" /> <span>Partnership First</span></li>
      <li class={styles.valueItem}><Icon name="ph:rocket-launch" width="64" height="64" aria-hidden="true" /> <span>Results-Driven Execution</span></li>
      <li class={styles.valueItem}><Icon name="ph:brain" width="64" height="64" aria-hidden="true" /> <span>Tech Excellence, Human Touch</span></li>
      <li class={styles.valueItem}><Icon name="ph:shield-check" width="64" height="64" aria-hidden="true" /> <span>Transparency & Security</span></li>
    </ul>
  </section>

  <section class={styles.team} aria-labelledby="team-title">
    <h2 id="team-title">The Team</h2>
    <p class={styles.accent}>Meet the people behind ElPuas Digital Crafts.</p>
    <ul class={styles.teamList} role="list">
      <TeamMember
        name="Catalina Valverde"
        role="CEO & Head of Content"
        bio="Catalina Valverde is our CEO, Head of Content, and co-founder of ElPuas Digital Crafts. With a degree in Media Production and years of experience as a journalist, she brings a strategic eye and storytelling finesse to every project. Catalina ensures that every site we build not only works — it speaks, connects, and inspires."
      />
      <TeamMember
        image={alfredoImage}
        alt="Alfredo Navas - CTO and Lead Developer"
        name="Alfredo Navas Fernandini"
        role="CTO"
        bio="Alfredo brings over 15 years of expertise, having developed websites for Fortune 500 companies. He leads projects, ensures every site runs smoothly, and works closely with clients to translate ideas into performant digital experiences. As a speaker and open web advocate, he shares insights on WordPress, Astro, and emerging technologies."
        socials={[
          { 
            href: 'https://www.linkedin.com/in/elpuasdev/', 
            icon: 'ph:linkedin-logo', 
            label: 'Alfredo\'s LinkedIn profile' 
          },
          { 
            href: 'https://github.com/elpuasdev', 
            icon: 'ph:github-logo', 
            label: 'Alfredo\'s GitHub profile' 
          },
          { 
            href: 'https://www.elpuas.com', 
            icon: 'ph:skull', 
            label: 'Alfredo\'s personal website' 
          }
        ]}
      />
      <TeamMember
        name="Gianfranco Navas"
        role="Lead Frontend Developer"
        bio="Gianfranco, our frontend expert, adds depth to our team's capabilities, ensuring cutting-edge designs and functionality."
      />
      <TeamMember
        name="AI Assistant"
        role="Analysis, Development & Content Support"
        bio="Our AI assistant, a collaboration between ChatGPT and Cursor, helps us move faster without cutting corners. From code scaffolding to research and content drafts, it amplifies our team's speed, precision, and creativity."
        image={aiImage}
        alt="AI Assistant - Our digital team member"
      />
    </ul>
  </section>

  <section class={styles.philosophy} aria-label="Our Philosophy">
    <h2>
      At ElPuas Digital Crafts, our ethos is simple:<span class={styles.accent}>"We code Digital Crafts for Humans"</span> Each project is imbued with care, creativity, and craftsmanship, delivering not just websites, but unforgettable digital experiences.
    </h2>
  </section>

  <section class={styles.testimonial} aria-labelledby="case-study-title">
    <CaseStudySection
      title="E‑Commerce Built to Scale"
      quote="We built a tailored ecommerce store for medical and student apparel, and continue to optimize it through our monthly maintenance plan. We use AI tools to write better product descriptions and choose the right keywords, helping the site stay ahead of competitors in search results. The result? Higher visibility, smoother shopping experiences, and steady sales growth — all without the hassle of managing the tech."
      author="MonkeyScrubs, eCommerce + Support Plan Client"
      buttonLabel="Case Study"
      buttonHref="/en/crafted-with-love/monkey-scrubs-ecommerce-en" 
      imgSrc={caseStudyImage}
      imgAlt="MonkeyScrubs eCommerce store displayed on mobile device"
    />
  </section>

  <section class={styles.process} aria-labelledby="process-title">
    <h2 id="process-title">How We Bring Your Vision to Life</h2>
    <p class={styles.accent}>From idea to delivery, here's how we turn strategy into action.</p>
    <ProcessStep steps={process} />
  </section>

  <section class={styles.cta} aria-label="Contact Call to Action">
    <Button href="/contact" label="Let's Talk" />
  </section>
</Layout>
<script type="module" is:inline>
  document.addEventListener('DOMContentLoaded', () => {
    console.log('Process step animation script loaded');
    
    // Force a small initial delay to ensure everything is loaded
    setTimeout(() => {
      const icons = document.querySelectorAll('.step-icon');
      console.log('Found step icons:', icons.length);
      
      // Manually apply animation to any icons already in viewport on page load
      let iconsArray = Array.from(icons);
      
      // Create an observer for icons not yet in view
      const observer = new IntersectionObserver(
        (entries, obs) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              console.log('Icon in view:', entry.target);
              
              // Remove any existing animation classes and force reflow
              entry.target.classList.remove('animate');
              void entry.target.offsetWidth; // Force reflow
              
              // Apply the animation class
              entry.target.classList.add('animate');
              
              // Stop observing this icon
              obs.unobserve(entry.target);
            }
          });
        },
        { 
          threshold: 0.3,
          rootMargin: '-10px' 
        }
      );
      
      // Apply staggered animation for icons
      iconsArray.forEach((icon, index) => {
        // Check if icon is already in viewport to animate immediately
        const rect = icon.getBoundingClientRect();
        const isInViewport = (
          rect.top >= 0 &&
          rect.left >= 0 &&
          rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
          rect.right <= (window.innerWidth || document.documentElement.clientWidth)
        );
        
        if (isInViewport) {
          // Stagger the animation for icons already in viewport
          setTimeout(() => {
            console.log('Animating icon in viewport:', index);
            icon.classList.add('animate');
          }, index * 150);
        } else {
          // Observe icons not yet in viewport
          observer.observe(icon);
        }
      });
    }, 800); // Longer delay to ensure all resources are loaded
  });
</script>